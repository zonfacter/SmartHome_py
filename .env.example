# SmartHome Edge OS v5.0 Environment Configuration

# Sentry Error Tracking
SENTRY_DSN=""
ENVIRONMENT=development  # production, staging, development

# Application
APP_NAME=SmartHome Edge OS
APP_VERSION=5.0.0
DEBUG=False

# Resource Limiter (CPU-Throttling)
CPU_LIMIT_PERCENT=50  # CPU-Limit in Prozent (Default: 50%)
RESOURCE_CHECK_INTERVAL=5  # Pr√ºf-Intervall in Sekunden (Default: 5s)

# Database (optional)
INFLUXDB_HOST=localhost
INFLUXDB_PORT=8086
INFLUXDB_DATABASE=smarthome

# Security
SECRET_KEY=change-me-to-a-random-secret
SMARTHOME_ADMIN_API_KEY=
# Optional: erlaubt lokale Aufrufe ohne API-Key (default: true)
SMARTHOME_ALLOW_LOOPBACK_WITHOUT_KEY=true
# Rate-Limit auf kritischen Control-Endpoints (pro IP+Path)
SMARTHOME_CONTROL_RATE_LIMIT_WINDOW_SECONDS=60
SMARTHOME_CONTROL_RATE_LIMIT_MAX_REQUESTS=120
SMARTHOME_CONTROL_RATE_LIMIT_EXEMPT_LOOPBACK=true
# CORS/CSRF/Session Hardening
# Kommagetrennte Origins, z. B. http://localhost:5000,https://hmi.example.com
SMARTHOME_ALLOWED_ORIGINS=
SMARTHOME_SESSION_COOKIE_SAMESITE=Lax
SMARTHOME_SESSION_COOKIE_SECURE=false
# Basale API-Payload-Validierung
SMARTHOME_MAX_API_BODY_BYTES=1048576
SMARTHOME_MAX_API_JSON_KEYS=200

# Stream Auto-Recovery Policy
STREAM_AUTO_RECOVERY_ENABLED=true
STREAM_RECOVERY_CHECK_INTERVAL_SECONDS=2.0
STREAM_RECOVERY_MAX_RETRIES=5
STREAM_RECOVERY_COOLDOWN_SECONDS=120
STREAM_RECOVERY_BACKOFF_BASE_SECONDS=1.5
STREAM_RECOVERY_BACKOFF_MAX_SECONDS=20
STREAM_RECOVERY_JITTER_MAX_SECONDS=0.6
